"use strict";(self["webpackChunkjing_shop_main"]=self["webpackChunkjing_shop_main"]||[]).push([[450],{3714:function(t,e,i){function a(t){const e=parseInt(t,10);return`${e.toFixed(0).replace(/./g,((t,e,i)=>e&&"."!==t&&(i.length-e)%3===0?`, ${t}`.replace(/\s/g,""):t))}`}i.d(e,{A:function(){return a}})},2450:function(t,e,i){i.r(e),i.d(e,{default:function(){return W}});var a=i(6252),r=i(9963),n=i(3577);const s={class:"productsList"},c={class:"container"},o=["onClick"],l=["src","alt"],g={class:"productItemContent"},u={class:"title"},h={class:"origin_price"},p={class:"price"};function d(t,e,i,d,_,P){const v=(0,a.up)("LoadingComponent"),y=(0,a.up)("Menu"),f=(0,a.up)("Pagination");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(v,{active:_.isLoading},null,8,["active"]),(0,a.Wm)(y,{onCategoryFilter:P.categoryFilter},null,8,["onCategoryFilter"]),(0,a._)("div",s,[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(P.productFilter,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"productItem",key:t.id},[(0,a._)("a",{href:"#",onClick:(0,r.iM)((e=>P.getProduct(t.id)),["prevent"])},[(0,a._)("img",{src:t.imgUrl,alt:t.title},null,8,l),(0,a._)("div",g,[(0,a._)("h3",u,(0,n.zw)(t.title),1),(0,a._)("p",h," 原價 NTD "+(0,n.zw)(P.currency(t.origin_price)),1),(0,a._)("p",p," 特價 NTD "+(0,n.zw)(P.currency(t.price)),1)])],8,o)])))),128))])]),(0,a.Wm)(f,{page:_.pagination,onGetProducts:P.getProducts},null,8,["page","onGetProducts"])],64)}i(7658);const _={class:"productsMenu"},P={class:"container"};function v(t,e,i,n,s,c){return(0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",P,[(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",{href:"#",onClick:e[0]||(e[0]=(0,r.iM)((t=>c.categoryFilter("全部")),["prevent"]))},"全部")]),(0,a._)("li",null,[(0,a._)("a",{href:"#",onClick:e[1]||(e[1]=(0,r.iM)((t=>c.categoryFilter("上衣")),["prevent"]))},"上衣")]),(0,a._)("li",null,[(0,a._)("a",{href:"#",onClick:e[2]||(e[2]=(0,r.iM)((t=>c.categoryFilter("下著")),["prevent"]))},"褲/裙")]),(0,a._)("li",null,[(0,a._)("a",{href:"#",onClick:e[3]||(e[3]=(0,r.iM)((t=>c.categoryFilter("洋裝")),["prevent"]))},"洋裝/套裝")]),(0,a._)("li",null,[(0,a._)("a",{href:"#",onClick:e[4]||(e[4]=(0,r.iM)((t=>c.categoryFilter("外套")),["prevent"]))},"外套")])])])])}var y={data(){return{category:"全部"}},methods:{categoryFilter(t){this.category=t,this.$emit("category-filter",this.category)}}},f=i(3744);const k=(0,f.Z)(y,[["render",v]]);var m=k;const C={class:"Page navigation"},F={class:"pagination justify-content-center"},w=(0,a._)("span",{"aria-hidden":"true"},"«",-1),M=[w],x=["onClick"],b=(0,a._)("span",{"aria-hidden":"true"},"»",-1),D=[b];function N(t,e,i,s,c,o){return(0,a.wg)(),(0,a.iD)("nav",C,[(0,a._)("ul",F,[(0,a._)("li",{class:(0,n.C_)(["page-item",{disabled:!c.hasPre}])},[(0,a._)("a",{class:"page-link",href:"#",onClick:e[0]||(e[0]=(0,r.iM)((t=>o.hasPreFn()),["prevent"]))},M)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.pagination.total_pages,(t=>((0,a.wg)(),(0,a.iD)("li",{class:(0,n.C_)(["page-item",{active:c.currentPage===t}]),key:t},[(0,a._)("a",{class:"page-link",href:"#",onClick:(0,r.iM)((e=>o.updatePage(t)),["prevent"])},(0,n.zw)(t),9,x)],2)))),128)),(0,a._)("li",{class:(0,n.C_)(["page-item",{disabled:!c.hasNext}])},[(0,a._)("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=(0,r.iM)((t=>o.hasNextFn()),["prevent"]))},D)],2)])])}var $={props:{page:{type:Object,default(){return{}}}},watch:{page(){this.pagination=this.page,this.totalPage=this.page.total_pages,this.currentPage=this.page.current_page,this.hasPre=this.page.has_pre,this.hasNext=this.page.has_next}},data(){return{pagination:{},totalPage:"",currentPage:"",hasPre:"",hasNext:""}},methods:{updatePage(t){this.currentPage=t,this.disabled(),this.getProduct()},hasPreFn(){this.currentPage=this.currentPage-1,this.disabled(),this.getProduct()},hasNextFn(){this.currentPage=this.currentPage+1,this.disabled(),this.getProduct()},disabled(){this.currentPage<=1?this.hasPre=!1:this.hasPre=!0,this.currentPage>=this.totalPage?this.hasNext=!1:this.hasNext=!0},getProduct(){this.$emit("get-products",this.currentPage)}}};const j=(0,f.Z)($,[["render",N]]);var L=j,z=i(3714),H={components:{Menu:m,Pagination:L},data(){return{products:{},pagination:{},category:"全部",isLoading:!1}},methods:{currency:z.A,getProducts(t=1){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/jingyan/products?page=${t}`;this.$http.get(e).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1,console.log(this.pagination)}))},getProduct(t){this.$router.push(`/products/${t}`)},categoryFilter(t){this.category=t;const e="https://vue3-course-api.hexschool.io/api/jingyan/products/all";"全部"!==t?this.$http.get(e).then((t=>{this.products=t.data.products,this.pagination={}})):this.getProducts()}},computed:{productFilter(){return"全部"===this.category?this.products:this.products.filter((t=>t.category===this.category))}},created(){this.getProducts()}};const I=(0,f.Z)(H,[["render",d]]);var W=I}}]);
//# sourceMappingURL=450.f8c19f0f.js.map